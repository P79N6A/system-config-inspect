{"ast":null,"code":"import _classCallCheck from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\Develop\\\\React Projects\\\\system-config-inspect\\\\src\\\\login\\\\LogIn.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Link from '@material-ui/core/Link';\nimport { UserLogin, LoadUserLoginInfo, IsUserLogin, UserLogout } from './UserState';\nimport LoginBGImage from '../resources/image/login_bg.jpg';\n\nvar styles = function styles(theme) {\n  var _main;\n\n  return {\n    main: (_main = {\n      width: 'auto',\n      display: 'block',\n      // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, _defineProperty(_main, theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2), {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }), _defineProperty(_main, \"backgroundImage\", 'url(' + LoginBGImage + ')'), _main),\n    backgroundBox: {\n      position: 'fixed',\n      top: '0',\n      left: '0',\n      width: '100vw',\n      height: '100vh',\n      backgroundImage: 'url(' + LoginBGImage + ')',\n      backgroundSize: '100% 100%',\n      transition: 'all .5s'\n    },\n    mainpaper: _defineProperty({\n      position: 'fixed',\n      top: '0',\n      left: '0',\n      width: '100vw',\n      height: '100vh',\n      backgroundImage: 'url(' + LoginBGImage + ')',\n      backgroundSize: '100% 100%',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    }, \"backgroundImage\", 'url(' + LoginBGImage + ')'),\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      marginLeft: theme.spacing.unit * 70,\n      marginRight: theme.spacing.unit * 70,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\") // backgroundColor: 'rgba(178,178,178,0.5)',\n      // background: 'rgba(178,178,178,0.5)',\n      // backgroundImage: 'url(' + LoginBGImage + ')',\n\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing.unit // backgroundColor: 'rgba(178,178,178,0.5)',\n\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3\n    }\n  };\n};\n\nvar LogIn =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LogIn, _React$Component);\n\n  function LogIn(props) {\n    var _this;\n\n    _classCallCheck(this, LogIn);\n\n    var _LoadUserLoginInfo = LoadUserLoginInfo(),\n        user = _LoadUserLoginInfo.user,\n        _password = _LoadUserLoginInfo.password;\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LogIn).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var userName = _this.state.userName;\n      var password = _this.state.password;\n      console.log(\"用户名：\" + userName + \"\\t密码：\" + password);\n      var history = _this.context.router.history;\n\n      if (password === \"123456\") {\n        UserLogin(userName, password, 0);\n        history.push('/tasks');\n      } else {\n        alert(\"密码错误\");\n      }\n    };\n\n    _this.handleUserNameChange = function (event) {\n      _this.setState({\n        userName: event.target.value\n      });\n    };\n\n    _this.handlePasswordChange = function (event) {\n      _this.setState({\n        password: event.target.value\n      });\n    };\n\n    UserLogout();\n    _this.state = {\n      userName: user,\n      password: _password\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LogIn, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(Paper, {\n        className: classes.mainpaper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: classes.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(LockOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u540D\"), React.createElement(Input, {\n        id: \"email\",\n        name: \"email\",\n        autoComplete: \"email\",\n        autoFocus: true,\n        value: this.state.userName,\n        onChange: this.handleUserNameChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"\\u5BC6\\u7801\"), React.createElement(Input, {\n        name: \"password\",\n        type: \"password\",\n        id: \"password\",\n        autoComplete: \"current-password\",\n        value: this.state.password,\n        onChange: this.handlePasswordChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          value: \"remember\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }),\n        label: \"\\u8BB0\\u4F4F\\u767B\\u5F55\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\"), React.createElement(Typography, {\n        variant: \"body2\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, '没有账号？  ', React.createElement(Link, {\n        href: \"./signup\",\n        align: \"center\",\n        underline: \"always\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"\\u70B9\\u51FB\\u8FD9\\u91CC\\u6CE8\\u518C\")))));\n    }\n  }]);\n\n  return LogIn;\n}(React.Component);\n\nLogIn.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nLogIn.contextTypes = {\n  router: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(LogIn);","map":{"version":3,"sources":["E:\\Develop\\React Projects\\system-config-inspect\\src\\login\\LogIn.js"],"names":["React","PropTypes","Avatar","Button","CssBaseline","FormControl","FormControlLabel","Checkbox","Input","InputLabel","LockOutlinedIcon","Paper","Typography","withStyles","Link","UserLogin","LoadUserLoginInfo","IsUserLogin","UserLogout","LoginBGImage","styles","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","backgroundBox","position","top","left","height","backgroundImage","backgroundSize","transition","mainpaper","flexDirection","alignItems","padding","paper","marginTop","avatar","margin","backgroundColor","palette","secondary","form","submit","LogIn","props","user","password","handleSubmit","event","preventDefault","userName","state","console","log","history","context","router","push","alert","handleUserNameChange","setState","target","value","handlePasswordChange","bind","classes","Component","propTypes","object","isRequired","contextTypes"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Link from '@material-ui/core/Link';\r\nimport { UserLogin, LoadUserLoginInfo, IsUserLogin, UserLogout } from './UserState';\r\nimport LoginBGImage from '../resources/image/login_bg.jpg'\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n        // opacity:1.0,\r\n        // zIndex:10,\r\n        backgroundImage: 'url(' + LoginBGImage + ')',\r\n    },\r\n    backgroundBox: {\r\n        position: 'fixed',\r\n        top: '0',\r\n        left: '0',\r\n        width: '100vw',\r\n        height: '100vh',\r\n        backgroundImage: 'url(' + LoginBGImage + ')',\r\n        backgroundSize: '100% 100%',\r\n        transition:'all .5s'\r\n      },\r\n      mainpaper: {\r\n        position: 'fixed',\r\n        top: '0',\r\n        left: '0',\r\n        width: '100vw',\r\n        height: '100vh',\r\n        backgroundImage: 'url(' + LoginBGImage + ')',\r\n        backgroundSize: '100% 100%',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n        // backgroundColor: 'rgba(178,178,178,0.5)',\r\n        // background: 'rgba(178,178,178,0.5)',\r\n        backgroundImage: 'url(' + LoginBGImage + ')',\r\n    },\r\n    \r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        marginLeft: theme.spacing.unit * 70,\r\n        marginRight: theme.spacing.unit * 70,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n        // backgroundColor: 'rgba(178,178,178,0.5)',\r\n        // background: 'rgba(178,178,178,0.5)',\r\n        // backgroundImage: 'url(' + LoginBGImage + ')',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n        // backgroundColor: 'rgba(178,178,178,0.5)',\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n});\r\n\r\nclass LogIn extends React.Component {\r\n    constructor(props) {\r\n        const {user, password} = LoadUserLoginInfo();\r\n        super(props);\r\n        UserLogout();\r\n        this.state = {\r\n            userName: user,\r\n            password: password\r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        let userName = this.state.userName;\r\n        let password = this.state.password;\r\n        console.log(\"用户名：\" + userName + \"\\t密码：\" + password);\r\n        let history = this.context.router.history;\r\n        if (password === \"123456\") {\r\n            UserLogin(userName, password, 0);\r\n            history.push('/tasks');\r\n        } else {\r\n            alert(\"密码错误\")\r\n        }\r\n    }\r\n\r\n    handleUserNameChange = event => {\r\n        this.setState({ userName: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = event => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Paper className={classes.mainpaper}>\r\n                <CssBaseline />\r\n                {/* <Paper id='backgroundBox' className={classes.backgroundBox}/> */}\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        登录\r\n                    </Typography>\r\n                    <form onSubmit={this.handleSubmit.bind(this)} className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <InputLabel htmlFor=\"email\">用户名</InputLabel>\r\n                            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus value={this.state.userName} onChange={this.handleUserNameChange.bind(this)} />\r\n                        </FormControl>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <InputLabel htmlFor=\"password\">密码</InputLabel>\r\n                            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" value={this.state.password} onChange={this.handlePasswordChange.bind(this)} />\r\n                        </FormControl>\r\n                        <FormControlLabel\r\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                            label=\"记住登录\"\r\n                        />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}>\r\n                            登录\r\n                        </Button>\r\n                        <Typography variant=\"body2\" align=\"center\">\r\n                            {'没有账号？  '}\r\n                            <Link href=\"./signup\" align=\"center\" underline=\"always\">\r\n                                点击这里注册\r\n                            </Link>\r\n                        </Typography>\r\n                    </form>\r\n                    {/* <React.Fragment>\r\n                        <Typography variant=\"body2\" align=\"center\">\r\n                            {'没有账号？  '}\r\n                            <Link href=\"./signup\" align=\"center\" underline=\"always\">\r\n                                点击这里注册\r\n                            </Link>\r\n                        </Typography>\r\n                    </React.Fragment> */}\r\n                </Paper>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\nLogIn.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nLogIn.contextTypes = {\r\n    router: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(LogIn);\r\n"]},"metadata":{},"sourceType":"module"}